<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC"
      crossorigin="anonymous"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.8.2/css/all.css"
    />
    <link rel="stylesheet" href="stylesheets/loginStyle.css" />
    <title>Register</title>
  </head>

  <body>
    <div class="wrapper fadeInDown">
      <div id="formContent">
        <!-- Icon -->
        <div class="fadeIn first">
          <img
            class="logo"
            src="images/guc_logo.png"
            id="icon"
            alt="User Icon"
          />
        </div>

        <!-- Login Form -->
        <form method="POST" action="/">
          <span id="icon-span"><i class="fas fa-user"></i></span>

          <input
            type="email"
            id="email"
            class="fadeIn second"
            name="email"
            placeholder="Email"
          />
          <span id="icon-span"><i class="fas fa-unlock"></i></span>

          <input
            type="password"
            id="password"
            class="fadeIn third"
            name="password"
            placeholder="Password"
          />
          <%if (typeof verify !== 'undefined' && verify === 'no'){%>
          <div class="alert alert-danger" role="alert">
            Wrong email or password
          </div>
          <%}%>
          <input
            type="submit"
            class="fadeIn fourth btn btn-primary"
            value="Log In "
            id="login"
          />
        </form>
        <!-- Register-->
        <div id="formFooter">
          <!-- <i id="icon-span" class="fas fa-user-plus"></i> -->
          <a class="underlineHover" href="/register">Register</a>
        </div>
      </div>
      <% if (locals.toastState === 'success') { console.log('hh')%>
        <div class="toast align-items-center bg-success" role="alert" aria-live="assertive" aria-atomic="true" style="position: absolute; top: 10px; right: 10px;">
          <div class="d-flex">
            <div class="toast-body">
              <%=locals.toastMessage%>
            </div>
            <button type="button" class="btn-close me-2 m-auto" data-bs-dismiss="toast" aria-label="Close"></button>
          </div>
        </div>
        <%} else if (locals.toastState === 'error') {%>
        <div class="toast align-items-center bg-danger" role="alert" aria-live="assertive" aria-atomic="true" style="position: absolute; top: 10px; right: 10px;">
          <div class="d-flex">
            <div class="toast-body">
              <%=locals.toastMessage%>
            </div>
            <button type="button" class="btn-close me-2 m-auto" data-bs-dismiss="toast" aria-label="Close"></button>
          </div>
        </div>
        <%}%> 
        <% locals.app.locals.toastState = '';
        locals.app.locals.toastMessage = ''; %>
        
    </div>
   
  </body>
  <script
    src="https://code.jquery.com/jquery-3.2.1.slim.min.js"
    integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN"
    crossorigin="anonymous"
  ></script>
  <script
    src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"
    integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q"
    crossorigin="anonymous"
  ></script>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/js/bootstrap.bundle.min.js" integrity="sha384-b5kHyXgcpbZJO/tY9Ul7kGkf1S0CWuKcCD38l8YkeH8z8QjE0GmW1gYU5S9FOnJ0" crossorigin="anonymous"></script>
  
  <script>
    var toastElList = [].slice.call(document.querySelectorAll('.toast'))
    var toastList = toastElList.map(function(toastEl) {
      return new bootstrap.Toast(toastEl)
    })
    toastList.forEach(toast => toast.show());
    console.log(toastList)
  </script>
</html>
